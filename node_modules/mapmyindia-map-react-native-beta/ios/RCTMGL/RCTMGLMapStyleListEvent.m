//
//  RCTMGLMapStyleListEvent.m
//  mapmyindia-map-react-native
//
//  Created by Saksham on 21/06/21.
//

#import "RCTMGLMapStyleListEvent.h"
#import "RCTMGLEventTypes.h"

@implementation RCTMGLMapStyleListEvent

- (NSDictionary *)payload {
    NSMutableArray<NSDictionary *> *array = [[NSMutableArray alloc] init];
    for(MapmyIndiaMapStyle* style in _styles) {
        NSDictionary *styleDict = @{@"name": style.name, @"imageUrl": style.imageUrl, @"displayName": style.displayName, @"description": style.style_Description};
        [array addObject:styleDict];
    }
    NSDictionary *dict = @{@"mapmyindia_styles": array};
    return dict;
    
}


+ (RCTMGLMapStyleListEvent *)mapmyIndiaStyles:(MGLMapView *)mapView styles:(NSArray<MapmyIndiaMapStyle *> *)styles {
    RCTMGLMapStyleListEvent *event = [[RCTMGLMapStyleListEvent alloc] init];
    event.styles = styles;
    event.type = RCT_MAPMYINDIA_STYLES_LIST_LOADED;
    return  event;
}

@end
